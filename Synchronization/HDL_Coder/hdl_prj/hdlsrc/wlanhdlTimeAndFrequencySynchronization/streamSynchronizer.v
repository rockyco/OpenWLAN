// -------------------------------------------------------------
// 
// File Name: hdl_prj/hdlsrc/wlanhdlTimeAndFrequencySynchronization/streamSynchronizer.v
// Created: 2026-02-04 22:38:43
// 
// Generated by MATLAB 25.1, HDL Coder 25.1, and Simulink 25.1
// 
// -------------------------------------------------------------


// -------------------------------------------------------------
// 
// Module: streamSynchronizer
// Source Path: wlanhdlTimeAndFrequencySynchronization/WLANTimeAndFrequencySynchronization/Coarse Time Sync/Energy 
// Calculator/streamSynchronize
// Hierarchy Level: 3
// Model version: 9.2
// 
// -------------------------------------------------------------

`timescale 1 ns / 1 ns

module streamSynchronizer
          (clk,
           reset,
           enb_1_8_1,
           enb_1_8_0,
           enb,
           corrValid,
           energy,
           dataValid,
           dataOut,
           validOut);


  input   clk;
  input   reset;
  input   enb_1_8_1;
  input   enb_1_8_0;
  input   enb;
  input   corrValid;
  input   signed [70:0] energy;  // sfix71_En54
  input   dataValid;
  output  signed [70:0] dataOut;  // sfix71_En54
  output  validOut;


  wire corrValid_1;
  reg  corrValid_2;
  reg  Delay4_out1;
  reg signed [70:0] energy_1;  // sfix71_En54
  reg signed [70:0] Delay1_bypass_reg;  // sfix71
  wire signed [70:0] Delay1_out1;  // sfix71_En54
  wire dataValid_1;
  reg  dataValid_2;
  reg  Delay6_out1;
  wire signed [70:0] dataOut_1;  // sfix71_En54
  wire validOut_1;
  reg signed [70:0] Delay2_out1;  // sfix71_En54
  reg  Delay3_out1;


  assign corrValid_1 = corrValid;

  always @(posedge clk or posedge reset)
    begin : Delay41_output_process
      if (reset == 1'b1) begin
        corrValid_2 <= 1'b0;
      end
      else begin
        if (enb_1_8_1) begin
          corrValid_2 <= corrValid_1;
        end
      end
    end

  always @(posedge clk or posedge reset)
    begin : Delay4_process
      if (reset == 1'b1) begin
        Delay4_out1 <= 1'b0;
      end
      else begin
        if (enb_1_8_0) begin
          Delay4_out1 <= corrValid_2;
        end
      end
    end

  always @(posedge clk or posedge reset)
    begin : crp_out_delay_process
      if (reset == 1'b1) begin
        energy_1 <= 71'sh000000000000000000;
      end
      else begin
        if (enb) begin
          energy_1 <= energy;
        end
      end
    end

  always @(posedge clk or posedge reset)
    begin : Delay1_bypass_process
      if (reset == 1'b1) begin
        Delay1_bypass_reg <= 71'sh000000000000000000;
      end
      else begin
        if (enb_1_8_1) begin
          Delay1_bypass_reg <= energy_1;
        end
      end
    end

  assign Delay1_out1 = (enb_1_8_1 == 1'b1 ? energy_1 :
              Delay1_bypass_reg);

  assign dataValid_1 = dataValid;

  always @(posedge clk or posedge reset)
    begin : Delay61_output_process
      if (reset == 1'b1) begin
        dataValid_2 <= 1'b0;
      end
      else begin
        if (enb_1_8_1) begin
          dataValid_2 <= dataValid_1;
        end
      end
    end

  always @(posedge clk or posedge reset)
    begin : Delay6_process
      if (reset == 1'b1) begin
        Delay6_out1 <= 1'b0;
      end
      else begin
        if (enb_1_8_0) begin
          Delay6_out1 <= dataValid_2;
        end
      end
    end

  StreamSyncronizer u_StreamSyncronizer (.clk(clk),
                                         .reset(reset),
                                         .enb_1_8_0(enb_1_8_0),
                                         .pop(Delay4_out1),
                                         .dataIn(Delay1_out1),  // sfix71_En54
                                         .push(Delay6_out1),
                                         .dataOut(dataOut_1),  // sfix71_En54
                                         .validOut(validOut_1)
                                         );

  always @(posedge clk or posedge reset)
    begin : Delay2_process
      if (reset == 1'b1) begin
        Delay2_out1 <= 71'sh000000000000000000;
      end
      else begin
        if (enb_1_8_0) begin
          Delay2_out1 <= dataOut_1;
        end
      end
    end

  assign dataOut = Delay2_out1;

  always @(posedge clk or posedge reset)
    begin : Delay3_process
      if (reset == 1'b1) begin
        Delay3_out1 <= 1'b0;
      end
      else begin
        if (enb_1_8_0) begin
          Delay3_out1 <= validOut_1;
        end
      end
    end

  assign validOut = Delay3_out1;

endmodule  // streamSynchronizer

