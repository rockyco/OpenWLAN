// -------------------------------------------------------------
// 
// File Name: hdl_prj/hdlsrc/wlanhdlTimeAndFrequencySynchronization/Sample_FreqOff.v
// Created: 2026-02-04 22:38:43
// 
// Generated by MATLAB 25.1, HDL Coder 25.1, and Simulink 25.1
// 
// -------------------------------------------------------------


// -------------------------------------------------------------
// 
// Module: Sample_FreqOff
// Source Path: wlanhdlTimeAndFrequencySynchronization/WLANTimeAndFrequencySynchronization/Coarse CFO Estimation 
// and Correction/Coarse CFO Estimation/Sample FreqOf
// Hierarchy Level: 3
// Model version: 9.2
// 
// -------------------------------------------------------------

`timescale 1 ns / 1 ns

module Sample_FreqOff
          (clk,
           reset,
           enb_1_8_0,
           freqOffIn,
           enb_1,
           rst,
           freqOffOut);


  input   clk;
  input   reset;
  input   enb_1_8_0;
  input   signed [33:0] freqOffIn;  // sfix34_En33
  input   enb_1;
  input   rst;
  output  signed [33:0] freqOffOut;  // sfix34_En33


  reg signed [33:0] freqOffOut_1;  // sfix34_En33
  reg signed [33:0] freqReg;  // sfix34
  reg  freqReg_not_empty;
  reg  freqFlag;
  reg signed [33:0] freqReg_next;  // sfix34_En33
  reg  freqReg_not_empty_next;
  reg  freqFlag_next;
  reg signed [33:0] freqReg_temp;  // sfix34_En33
  reg  freqFlag_temp;


  always @(posedge clk or posedge reset)
    begin : Sample_FreqOff_1_process
      if (reset == 1'b1) begin
        freqReg_not_empty <= 1'b0;
      end
      else begin
        if (enb_1_8_0) begin
          freqReg <= freqReg_next;
          freqReg_not_empty <= freqReg_not_empty_next;
          freqFlag <= freqFlag_next;
        end
      end
    end

  always @(enb_1, freqFlag, freqOffIn, freqReg, freqReg_not_empty, rst) begin
    freqReg_temp = freqReg;
    freqFlag_temp = freqFlag;
    freqReg_not_empty_next = freqReg_not_empty;
    if (( ! freqReg_not_empty) || rst) begin
      freqReg_temp = 34'sh000000000;
      freqReg_not_empty_next = 1'b1;
      freqFlag_temp = 1'b1;
    end
    if (enb_1 && freqFlag_temp) begin
      freqReg_temp = freqOffIn;
      freqFlag_temp = 1'b0;
    end
    freqOffOut_1 = freqReg_temp;
    freqReg_next = freqReg_temp;
    freqFlag_next = freqFlag_temp;
  end

  assign freqOffOut = freqOffOut_1;

endmodule  // Sample_FreqOff

